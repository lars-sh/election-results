<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>Color.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">Election Results CLI</a> &gt; <a href="../index.html" class="el_bundle">election-results-core</a> &gt; <a href="index.source.html" class="el_package">de.larssh.election.germany.schleswigholstein</a> &gt; <span class="el_source">Color.java</span></div><h1>Color.java</h1><pre class="source lang-java linenums">// Generated by delombok at Mon Jan 30 16:27:43 UTC 2023
package de.larssh.election.germany.schleswigholstein;

import java.util.regex.Matcher;
import java.util.regex.Pattern;
import com.fasterxml.jackson.annotation.JsonCreator;
import com.fasterxml.jackson.annotation.JsonValue;
import de.larssh.utils.Nullables;
import de.larssh.utils.text.Patterns;

/**
 * Color following the RGBA color model and storing each channel in percentages
 */
public class Color {
	/**
	 * Pattern to parse colors in hexadecimal form
	 */
<span class="fc" id="L18">	private static final Pattern HEX_PATTERN = Pattern.compile(&quot;^#?(?&lt;red&gt;[0-9a-f]{2})(?&lt;green&gt;[0-9a-f]{2})(?&lt;blue&gt;[0-9a-f]{2})(?&lt;alpha&gt;[0-9a-f]{2})?$&quot;, Pattern.CASE_INSENSITIVE);</span>
	/**
	 * Radix for hexadecimal values
	 */
	private static final int HEX_RADIX = 16;
	/**
	 * Maximum value of an unsigned byte
	 */
	private static final double MAX_UNSIGNED_BYTE_VALUE = 255;
	/**
	 * Pure black
	 */
<span class="fc" id="L30">	public static final Color BLACK = new Color(0, 0, 0, 1);</span>
	/**
	 * Pure blue
	 */
<span class="fc" id="L34">	public static final Color BLUE = new Color(0, 0, 1, 1);</span>
	/**
	 * Pure green
	 */
<span class="fc" id="L38">	public static final Color GREEN = new Color(0, 1, 0, 1);</span>
	/**
	 * Pure red
	 */
<span class="fc" id="L42">	public static final Color RED = new Color(1, 0, 0, 1);</span>
	/**
	 * Pure white
	 */
<span class="fc" id="L46">	public static final Color WHITE = new Color(1, 1, 1, 1);</span>

	/**
	 * Creates a {@link Color} from an hexadecimal value, which can be prefixed with
	 * a hash sign. The alpha value may be omitted.
	 *
	 * @param hex the hexadecimal value
	 * @return the color
	 */
	@JsonCreator
	public static Color fromHex(final String hex) {
<span class="pc" id="L57">		final Matcher matcher = Patterns.matches(HEX_PATTERN, hex).orElseThrow(() -&gt; new IllegalArgumentException(String.format(&quot;Expecting an hexadecimal color value. Failed parsing \&quot;%s\&quot; as color value.&quot;, hex)));</span>
<span class="fc" id="L58">		return new Color(Integer.parseInt(matcher.group(&quot;red&quot;), HEX_RADIX) / MAX_UNSIGNED_BYTE_VALUE, Integer.parseInt(matcher.group(&quot;green&quot;), HEX_RADIX) / MAX_UNSIGNED_BYTE_VALUE, Integer.parseInt(matcher.group(&quot;blue&quot;), HEX_RADIX) / MAX_UNSIGNED_BYTE_VALUE, Integer.parseInt(Nullables.orElse(matcher.group(&quot;alpha&quot;), &quot;ff&quot;), HEX_RADIX) / MAX_UNSIGNED_BYTE_VALUE);</span>
	}

	/**
	 * Percentage of the red channel
	 */
	private final double red;
	/**
	 * Percentage of the green channel
	 */
	private final double green;
	/**
	 * Percentage of the blue channel
	 */
	private final double blue;
	/**
	 * Percentage of the alpha channel
	 */
	private final double alpha;

	/**
	 * Formats the color in hexadecimal form, prefixed with a hash. The alpha value
	 * may be omitted.
	 *
	 * @return the formatted color
	 */
	@JsonValue
	public String toHex() {
<span class="fc" id="L86">		final String cssColor = String.format(&quot;#%02x%02x%02x&quot;, (int) (MAX_UNSIGNED_BYTE_VALUE * getRed()), (int) (MAX_UNSIGNED_BYTE_VALUE * getGreen()), (int) (MAX_UNSIGNED_BYTE_VALUE * getBlue()));</span>
<span class="fc" id="L87">		final int alpha = (int) (MAX_UNSIGNED_BYTE_VALUE * getAlpha());</span>
<span class="pc bpc" id="L88" title="1 of 2 branches missed.">		return cssColor + (alpha &lt; MAX_UNSIGNED_BYTE_VALUE ? String.format(&quot;%02x&quot;, alpha) : &quot;&quot;);</span>
	}

	/**
	 * {@inheritDoc}
	 */
	@Override
	public String toString() {
<span class="fc" id="L96">		return toHex();</span>
	}

	/**
	 * Percentage of the red channel
	 *
	 * @return the percentage of the red channel
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public double getRed() {
		return this.red;
	}

	/**
	 * Percentage of the green channel
	 *
	 * @return the green of the red channel
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public double getGreen() {
		return this.green;
	}

	/**
	 * Percentage of the blue channel
	 *
	 * @return the blue of the red channel
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public double getBlue() {
		return this.blue;
	}

	/**
	 * Percentage of the alpha channel
	 *
	 * @return the alpha of the red channel
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public double getAlpha() {
		return this.alpha;
	}

	@java.lang.Override
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public boolean equals(@edu.umd.cs.findbugs.annotations.Nullable final java.lang.Object o) {
		if (o == this) return true;
		if (!(o instanceof Color)) return false;
		final Color other = (Color) o;
		if (!other.canEqual((java.lang.Object) this)) return false;
		if (java.lang.Double.compare(this.getRed(), other.getRed()) != 0) return false;
		if (java.lang.Double.compare(this.getGreen(), other.getGreen()) != 0) return false;
		if (java.lang.Double.compare(this.getBlue(), other.getBlue()) != 0) return false;
		if (java.lang.Double.compare(this.getAlpha(), other.getAlpha()) != 0) return false;
		return true;
	}

	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	protected boolean canEqual(@edu.umd.cs.findbugs.annotations.Nullable final java.lang.Object other) {
		return other instanceof Color;
	}

	@java.lang.Override
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public int hashCode() {
		final int PRIME = 59;
		int result = 1;
		final long $red = java.lang.Double.doubleToLongBits(this.getRed());
		result = result * PRIME + (int) ($red &gt;&gt;&gt; 32 ^ $red);
		final long $green = java.lang.Double.doubleToLongBits(this.getGreen());
		result = result * PRIME + (int) ($green &gt;&gt;&gt; 32 ^ $green);
		final long $blue = java.lang.Double.doubleToLongBits(this.getBlue());
		result = result * PRIME + (int) ($blue &gt;&gt;&gt; 32 ^ $blue);
		final long $alpha = java.lang.Double.doubleToLongBits(this.getAlpha());
		result = result * PRIME + (int) ($alpha &gt;&gt;&gt; 32 ^ $alpha);
		return result;
	}

	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public Color(final double red, final double green, final double blue, final double alpha) {
		this.red = red;
		this.green = green;
		this.blue = blue;
		this.alpha = alpha;
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>