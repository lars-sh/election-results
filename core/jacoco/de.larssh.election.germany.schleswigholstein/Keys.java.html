<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Keys.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Election Results Core</a> &gt; <a href="index.source.html" class="el_package">de.larssh.election.germany.schleswigholstein</a> &gt; <span class="el_source">Keys.java</span></div><h1>Keys.java</h1><pre class="source lang-java linenums">// Generated by delombok at Tue Jan 31 17:47:15 UTC 2023
package de.larssh.election.germany.schleswigholstein;

/**
 * This class contains helper methods to create unique keys.
 */
@SuppressWarnings(&quot;PMD.ShortClassName&quot;)
public final class Keys {
	/**
	 * Any character to be used for escaping
	 */
	private static final String ESCAPE_CHARACTER = &quot;\\&quot;;

	/**
	 * Creates a unique and still readable string out of {@code value} and
	 * {@code valueToEscape} by appending arguments in order and escaping
	 * {@code valueToEscape}.
	 *
	 * &lt;p&gt;
	 * &lt;strong&gt;Attention:&lt;/strong&gt; If either {@code value} or {@code valueToEscape}
	 * is empty only the opposite value is returned. {@code valueToEscape} is still
	 * escaped, but to guarantee uniqueness {@code value} must not be empty.
	 *
	 * &lt;p&gt;
	 * {@code prefix} must be at least two characters long for the algorithm to work
	 * as expected. An {@link IllegalArgumentException} is thrown in case it is too
	 * short.
	 *
	 * &lt;table style=&quot;width: 100%;&quot;&gt;
	 * &lt;caption&gt;Real Examples&lt;/caption&gt;
	 * &lt;tr&gt;
	 * &lt;th&gt;{@code value}
	 * &lt;th&gt;{@code prefix}
	 * &lt;th&gt;{@code valueToEscape}
	 * &lt;th&gt;{@code suffix}
	 * &lt;th&gt;return value
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;Knickrehm&quot;}
	 * &lt;td&gt;{@code &quot;, &quot;}
	 * &lt;td&gt;{@code &quot;Lars&quot;}
	 * &lt;td&gt;{@code &quot;&quot;}
	 * &lt;td&gt;{@code &quot;Knickrehm, Lars&quot;}
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;Knickrehm, Lars&quot;}
	 * &lt;td&gt;{@code &quot; (&quot;}
	 * &lt;td&gt;{@code &quot;AWG&quot;}
	 * &lt;td&gt;{@code &quot;)&quot;}
	 * &lt;td&gt;{@code &quot;Knickrehm, Lars (AWG)&quot;}
	 * &lt;/tr&gt;
	 * &lt;/table&gt;
	 *
	 * &lt;table style=&quot;width: 100%;&quot;&gt;
	 * &lt;caption&gt;Edge Cases&lt;/caption&gt;
	 * &lt;tr&gt;
	 * &lt;th&gt;{@code value}
	 * &lt;th&gt;{@code prefix}
	 * &lt;th&gt;{@code valueToEscape}
	 * &lt;th&gt;{@code suffix}
	 * &lt;th&gt;return value
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;&quot;}
	 * &lt;td&gt;{@code &quot; (&quot;}
	 * &lt;td&gt;{@code &quot;&quot;}
	 * &lt;td&gt;{@code &quot;)&quot;}
	 * &lt;td&gt;{@code &quot;&quot;}
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;&quot;}
	 * &lt;td&gt;{@code &quot; (&quot;}
	 * &lt;td&gt;{@code &quot;xyz&quot;}
	 * &lt;td&gt;{@code &quot;)&quot;}
	 * &lt;td&gt;{@code &quot;xyz&quot;} (might not be unique)
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;&quot;}
	 * &lt;td&gt;{@code &quot; (&quot;}
	 * &lt;td&gt;{@code &quot;x (z&quot;}
	 * &lt;td&gt;{@code &quot;)&quot;}
	 * &lt;td&gt;{@code &quot;x \(z&quot;} (might not be unique)
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;abc&quot;}
	 * &lt;td&gt;{@code &quot; (&quot;}
	 * &lt;td&gt;{@code &quot;&quot;}
	 * &lt;td&gt;{@code &quot;)&quot;}
	 * &lt;td&gt;{@code &quot;abc&quot;}
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;abc&quot;}
	 * &lt;td&gt;{@code &quot; (&quot;}
	 * &lt;td&gt;{@code &quot;xyz&quot;}
	 * &lt;td&gt;{@code &quot;)&quot;}
	 * &lt;td&gt;{@code &quot;abc (xyz)&quot;}
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;a (c&quot;}
	 * &lt;td&gt;{@code &quot; (&quot;}
	 * &lt;td&gt;{@code &quot;&quot;}
	 * &lt;td&gt;{@code &quot;)&quot;}
	 * &lt;td&gt;{@code &quot;a (c&quot;}
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;a (c&quot;}
	 * &lt;td&gt;{@code &quot; (&quot;}
	 * &lt;td&gt;{@code &quot;x (z&quot;}
	 * &lt;td&gt;{@code &quot;)&quot;}
	 * &lt;td&gt;{@code &quot;a (c (x \(z)&quot;}
	 * &lt;/tr&gt;
	 * &lt;tr&gt;
	 * &lt;td&gt;{@code &quot;a \(c&quot;}
	 * &lt;td&gt;{@code &quot; (&quot;}
	 * &lt;td&gt;{@code &quot;x \(z&quot;}
	 * &lt;td&gt;{@code &quot;)&quot;}
	 * &lt;td&gt;{@code &quot;a \(c (x \\(z)&quot;}
	 * &lt;/tr&gt;
	 * &lt;/table&gt;
	 *
	 * @param value         the leading value
	 * @param prefix        the prefix of the value to escape
	 * @param valueToEscape the value to escape
	 * @param suffix        the suffix of the value to escape
	 * @return the unique value
	 */
	@SuppressWarnings(&quot;PMD.UseObjectForClearerAPI&quot;)
	public static String escape(final String value, final String prefix, final String valueToEscape, final String suffix) {
<span class="pc bpc" id="L129" title="1 of 2 branches missed.">		if (valueToEscape.isEmpty()) {</span>
<span class="nc" id="L130">			return value;</span>
		}
<span class="pc bpc" id="L132" title="1 of 2 branches missed.">		if (prefix.length() &lt; 2) {</span>
<span class="nc" id="L133">			throw new IllegalArgumentException(&quot;The prefix needs to contain at least two characters.&quot;);</span>
		}
<span class="fc" id="L135">		final String escapedValue = valueToEscape.replace(ESCAPE_CHARACTER, ESCAPE_CHARACTER + ESCAPE_CHARACTER).replace(Character.toString(prefix.charAt(0)) + Character.toString(prefix.charAt(1)), Character.toString(prefix.charAt(0)) + ESCAPE_CHARACTER + Character.toString(prefix.charAt(1)));</span>
<span class="fc bfc" id="L136" title="All 2 branches covered.">		return value.isEmpty() ? escapedValue : value + prefix + escapedValue + suffix;</span>
	}

	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	private Keys() {
		throw new java.lang.UnsupportedOperationException(&quot;This is a utility class and cannot be instantiated&quot;);
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>